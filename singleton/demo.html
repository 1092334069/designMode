<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>测试用例</title>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body>
	<script src="index.js"></script>
	<script>
		var singleton = Singleton({
			type: 'timeout'
		})

		singleton.timeout('test', {
			time: 2,
			event: function() {
				console.log('singletonTime1')
			}
		})

		singleton.timeout('test', {
			time: 2,
			event: function() {
				console.log('singletonTime2')
			}
		})

		singleton.timeout('test', {
			time: 2,
			event: function() {
				console.log('singletonTime3')
			}
		})

		setTimeout(function() {
			singleton.timeout('test', {
				time: 2,
				event: function() {
					console.log('singletonTime4')
				}
			})
		}, 3000)
	</script>
	<script>
		var singletonAjax = Singleton({
			type: 'ajax'
		})

		singletonAjax.ajax({
			url: 'http://aisqueezepage.com:9091/json/shopDetail?productId=1'
		})

		singletonAjax.ajax({
			url: 'http://aisqueezepage.com:9091/json/shopDetail?productId=1'
		})

	</script>
</body>